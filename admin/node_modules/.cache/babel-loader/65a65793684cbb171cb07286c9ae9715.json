{"ast":null,"code":"import axios from \"axios\";\nimport { createMovieFailure, createMovieStart, createMovieSuccess, getMoviesFailure, getMoviesStart, getMoviesSuccess } from \"./MovieActions\";\nexport const getMovies = async dispatch => {\n  dispatch(getMoviesStart());\n\n  try {\n    const res = await axios.get(\"/movies\", {\n      headers: {\n        token: \"header \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n      }\n    });\n    dispatch(getMoviesSuccess(res.data));\n  } catch (error) {\n    dispatch(getMoviesFailure());\n  }\n}; //create\n\nexport const createMovie = async (movie, dispatch) => {\n  dispatch(createMovieStart());\n\n  try {\n    const res = await axios.post('/movies', movie, {\n      header: {\n        token: \"header \" + JSON.parse(localStorage.getItem('user').accessToken)\n      }\n    });\n    dispatch(createMovieSuccess(res.data));\n  } catch (error) {\n    dispatch(createMovieFailure());\n  }\n};","map":{"version":3,"sources":["D:/Nodejs/netflix/admin/src/context/movieContext/apiCalls.js"],"names":["axios","createMovieFailure","createMovieStart","createMovieSuccess","getMoviesFailure","getMoviesStart","getMoviesSuccess","getMovies","dispatch","res","get","headers","token","JSON","parse","localStorage","getItem","accessToken","data","error","createMovie","movie","post","header"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,kBADJ,EAEIC,gBAFJ,EAGEC,kBAHF,EAIEC,gBAJF,EAKEC,cALF,EAMEC,gBANF,QAOO,gBAPP;AASA,OAAO,MAAMC,SAAS,GAAG,MAAOC,QAAP,IAAoB;AAC3CA,EAAAA,QAAQ,CAACH,cAAc,EAAf,CAAR;;AACA,MAAI;AACF,UAAMI,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,SAAV,EAAqB;AACrCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,KAAK,EAAE,YAAYC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC;AADrD;AAD4B,KAArB,CAAlB;AAKAT,IAAAA,QAAQ,CAACF,gBAAgB,CAACG,GAAG,CAACS,IAAL,CAAjB,CAAR;AACD,GAPD,CAOE,OAAOC,KAAP,EAAc;AACdX,IAAAA,QAAQ,CAACJ,gBAAgB,EAAjB,CAAR;AACD;AACF,CAZM,C,CAcP;;AACA,OAAO,MAAMgB,WAAW,GAAE,OAAMC,KAAN,EAAYb,QAAZ,KAAuB;AAC7CA,EAAAA,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;;AACA,MAAI;AACA,UAAMO,GAAG,GAAC,MAAMT,KAAK,CAACsB,IAAN,CAAW,SAAX,EAAqBD,KAArB,EAA2B;AACvCE,MAAAA,MAAM,EAAC;AACHX,QAAAA,KAAK,EAAC,YAAUC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,WAAxC;AADb;AADgC,KAA3B,CAAhB;AAKAT,IAAAA,QAAQ,CAACL,kBAAkB,CAACM,GAAG,CAACS,IAAL,CAAnB,CAAR;AACH,GAPD,CAOE,OAAOC,KAAP,EAAc;AACZX,IAAAA,QAAQ,CAACP,kBAAkB,EAAnB,CAAR;AACH;AACJ,CAZM","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n    createMovieFailure,\r\n    createMovieStart,\r\n  createMovieSuccess,\r\n  getMoviesFailure,\r\n  getMoviesStart,\r\n  getMoviesSuccess,\r\n} from \"./MovieActions\";\r\n\r\nexport const getMovies = async (dispatch) => {\r\n  dispatch(getMoviesStart());\r\n  try {\r\n    const res = await axios.get(\"/movies\", {\r\n      headers: {\r\n        token: \"header \" + JSON.parse(localStorage.getItem(\"user\")).accessToken,\r\n      },\r\n    });\r\n    dispatch(getMoviesSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(getMoviesFailure());\r\n  }\r\n};\r\n\r\n//create\r\nexport const createMovie =async(movie,dispatch)=>{\r\n    dispatch(createMovieStart())\r\n    try {\r\n        const res=await axios.post('/movies',movie,{\r\n            header:{\r\n                token:\"header \"+JSON.parse(localStorage.getItem('user').accessToken),\r\n            }\r\n        })\r\n        dispatch(createMovieSuccess(res.data))\r\n    } catch (error) {\r\n        dispatch(createMovieFailure())\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}